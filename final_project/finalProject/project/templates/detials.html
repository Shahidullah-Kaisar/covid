{% extends 'baselogin.html' %}
{% block title %} Patient details{% endblock title %}
{% block form %}

<div class="row">
<div class="col-md-4"></div>

<div class="col-md-4">

<br>
<br>
<h1>Ticket Details</h1>
<div class="card p-3">

<table class="table table-dark">
  <thead>
  <tr>
  <th scope="col">STAR WARS Movie Theater(Dhanmondi Branch)</th>
   </tr>
<tr>
     <th scope="col">Customer username: {{data.srfid}}</th>
</tr>
<tr>
      <th scope="col">Seat Type: {{data.bedtype}}</th>
</tr>
<tr>
      <th scope="col">Movie Code: {{data.hcode}}</th>
</tr>
<tr>
      <th scope="col">Extra 3d glass needed: {{data.spo2}}</th>
</tr>
<tr>
      <th scope="col">Customer Name: {{data.pname}}</th>
</tr>
<tr>
      <th scope="col">Customer Phone: {{data.pphone}}</th>
</tr>
<tr>
      <th scope="col">Customer Address: {{data.paddress}}</th>
</tr>
  </thead>
</table>

</div>
<!-- Print button -->
<div class="text-center mt-3">
  <button onclick="printToPDF()" class="btn btn-primary">Print</button>
</div>

</div>
<div class="col-md-4"></div>

</div>

<script>
function printToPDF() {
    const element = document.querySelector('.card'); // Select the card containing the details
    const opt = {
        margin:       1,
        filename:     'ticket_details.pdf',
        image:        { type: 'jpeg', quality: 0.98 },
        html2canvas:  { scale: 2 },
        jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
    };

    // New Promise-based usage:
    html2pdf().from(element).set(opt).save();
}
</script>

<!-- Include html2pdf.js library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>

{% endblock form %}